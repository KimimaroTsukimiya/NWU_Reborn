"DOTAAbilities"
{
	"dummy_passive"
	{
		"BaseClass" 		"ability_datadriven"
		"AbilityBehavior" 	"DOTA_ABILITY_BEHAVIOR_PASSIVE"
		"Modifiers"
		{
			"dummy_modifier"
			{
				"Passive"	"1"
				"States"
				{
					"MODIFIER_STATE_NO_UNIT_COLLISION"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_MOVE_TO"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_TEAM_SELECT"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_COMMAND_RESTRICTED"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_ATTACK_IMMUNE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_INVULNERABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					//"MODIFIER_STATE_FLYING"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NOT_ON_MINIMAP"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_UNSELECTABLE"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_OUT_OF_GAME"	"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_NO_HEALTH_BAR"		   "MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	"gaara_ryuusa_bakuryu"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"FightRecapLevel"				"1"
		"AbilityTextureName"			"gaara_ryuusa_bakuryu"
		
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"750"
		"AbilityCastPoint"				"0.7 0.7 0.7 0.7"
		"AOERadius"						"%radius"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"10 10 10 10"
	
		// Damage.
		//-------------------------------------------------------------------------------------------------------------
		"AbilityDamage"					"100 170 240 300"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"105 120 135 150"
	
		// Stats
		//-------------------------------------------------------------------------------------------------------------
		"AbilityModifierSupportValue"	"0.5"	// applies 2 modifiers
		
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"					"FIELD_INTEGER"
				"radius"					"300"
			}
			"02"
			{
				"var_type"					"FIELD_FLOAT"
				"stun_duration"				"1 1 1 1"
			}
			"03"
			{
				"var_type"					"FIELD_FLOAT"
				"delay"						"0.3 0.3 0.3 0.3"
			}
			"04"
			{
				"var_type"					"FIELD_INTEGER"
				"thinker_interval"				"1"
			}
			"05"
			{
				"var_type"					"FIELD_FLOAT"
				"thinker_damage"				"50 85 120 150"
			}
	
		}
	
		// Data driven
		//-------------------------------------------------------------------------------------------------------------	
		"precache"
		{
			"soundfile"						"soundevents/game_sounds_heroes/game_sounds_kunkka.vsndevts"
			"particle"						"particles/units/heroes/hero_kunkka/kunkka_spell_torrent_bubbles.vpcf"
			"particle"						"particles/units/heroes/hero_kunkka/kunkka_spell_torrent_splash.vpcf"
		}
		
		"OnSpellStart"
		{
	
			"DelayedAction"
			{
				"Delay"     "%delay"
				"Action"    
				{
					"FireEffect"
					{
						//"EffectName"        "particles/units/heroes/hero_leshrac/leshrac_split_earth.vpcf"
						//"EffectAttachType"  "start_at_customorigin"
						//"TargetPoint"       "POINT"
	
						//"ControlPoints"
						//{
						//	"01"    "%radius %radius %radius"
						//}
					}
	
					"FireSound"
					{
						//"EffectName"	"Hero_Leshrac.Split_Earth"
						//"Target" 		"CASTER"
					}
	
					"ActOnTargets"
					{
						"Target"
						{
							"Center"  	"POINT"
							"Radius" 	"%radius"
							"Teams" 	"DOTA_UNIT_TARGET_TEAM_ENEMY"
							"Types" 	"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
						}
					
						"Action"
						{
							"Stun"
							{
								"Target" 	 "TARGET"
								"Duration"   "%stun_duration"
							}
								"ThinkInterval"  "%thinker_interval"
							"OnIntervalThink"
							{
								"Damage"
								{
									"Type"			"DAMAGE_TYPE_MAGICAL"
									"Target" 	 "TARGET"
									"Damage"		"%thinker_damage"
								}
							
							}
						}
					}
				}
	
			}		
				
		}
		
	}
	"gaara_sabaku_kyuu"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitTargetFlags"		"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"FightRecapLevel"				"1"
		"AbilityTextureName"			"gaara_sabaku_kyuu"
	
		// Precache
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
					"particle"	"particles/generic_gameplay/generic_silence.vpcf"
		}	
	
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"700"
		"AbilityCastPoint"				"0.5 0.5 0.5"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityChannelTime"			"2.8 2.8 2.8"
		"AbilityCooldown"				"20 20 20 20"
	
		//Damage
		"AbilityDamage"					"100 150 200 250"
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"100 115 130 145"		
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"						"FIELD_FLOAT"
				"tick_interval"					"0.1"
			}
			"02"
			{
				"var_type"						"FIELD_FLOAT"
				"duration"						"2.8 2.8 2.8"
			}
			"03"
			{
				"var_type"						"FIELD_FLOAT"
				"delay_to_dmg"					"1.4 1.4 1.4"
			}
		}
	
		"OnSpellStart"
		{
	
			"Knockback"
			{
					"Target"			"TARGET"
					"Duration"			"%duration"
					"Distance"			"0"
					"Height"			"500"
					"OverrideAnimation"			"ACT_DOTA_DISABLED"
				
					"EffectName"				"particles/generic_gameplay/generic_stunned.vpcf"
					"EffectAttachType"			"follow_overhead"
			}
			
			"DelayedAction"
			{
				"Delay"						"%delay_to_dmg"
				"Action"
				{
				"Damage"
				{
					"Target"	"TARGET"
					"Type"		"DAMAGE_TYPE_MAGICAL"
					"Damage"	"%AbilityDamage"
				}
			}
			}
	
			
			
			"FireSound"
			{
					
			}
			
		}
	}
	"kisame_mizu_bunshin_no_jutsu"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityTextureName"			"kisame_mizu_bunshin_no_jutsu"
	
		// Precache
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_vengefulspirit.vsndevts"
			"particle"			"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror_recipient.vpcf"
			"particle"  		"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror.vpcf"		
		}
		
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"450"
		"AbilityCastPoint"				"0.3 0.3 0.3 0.3"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"27.0 24.0 21.0 18.0"
		"AbilityDuration"				"0.2 0.2 0.2 0.2"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"135 140 145 150"
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
	      "01"
	      {
	        "var_type"                  "FIELD_FLOAT"
	        "illusion_duration"         "20 20 20"
	      }
	      "02"
	      {
	        "var_type"                               "FIELD_FLOAT"
	        "illusion_outgoing_damage_percent"       "-10"
	      }
	       "03"
	      {
	        "var_type"                               "FIELD_FLOAT"
	        "illusion_incoming_damage_percent"       "700 600 500 400"
	      }			
		}
	
		"OnSpellStart"
	  {
	    "ApplyModifier"
	    {
	      "ModifierName"    "mizu_bunshin_no_jutsu_illusion"
	      "Target"      "CASTER"
	    }
	  }
	
	    "Modifiers"
	    {
	
	     "mizu_bunshin_no_jutsu_illusion"
	    {
	      "Duration"  "%illusion_duration"
	
	      "OnCreated"
	      {
	        "RunScript"
	        {
	          "ScriptFile"      "heroes/kisame/mizu_bunshin_no_jutsu.lua"
	          "Function"        "ConjureImage"
	        }
	        "RunScript"
	        {
	          "ScriptFile"      "heroes/kisame/mizu_bunshin_no_jutsu.lua"
	          "Function"        "ConjureImage"
	        }
	
	      }
	
	    }
		}
		
	}
	
	"kisame_samehada"
	{
	    // General  
	    // ----------------------------------------------------------------------------------------
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
	    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
	    "AbilityTextureName"        "kisame_samehada"
	
	
	    "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"               "4"
	
	
	    // Casting
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCastRange"              "0"
	    "AbilityDuration"               "0"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "10 10 10 10"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0"
	
	
	     "precache"
	    {
	      "particle"  "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	      "particle"  "particles/generic_gameplay/generic_purge.vpcf"
	      "particle"  "particles/econ/items/razor/razor_punctured_crest/razor_helmet_blade_ambient_a.vpcf"
	      "particle"  "particles/units/heroes/hero_razor/razor_base_attack_impact_b.vpcf"
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        { 
	            "var_type"  "FIELD_FLOAT"
	            "manasteal_percentage" "8.0 12.0 16.0 20.0"
	        }
	    }
	
	
	    "Modifiers"
	    {
	        "modifier_samehada"
	        {
	            "Passive"                   "1"
	            "IsHidden"                  "0"
	            "IsPurgable"                "0"
	            
	            "OnCreated"
	            {
	                "FireEffect"
	                {
	                    //TODO find a fitting sound
	                    //"Target"            "CASTER" 
	                    //"EffectName"        "Hero_Kunkaa.Tidebringer"
	                }
	            
	                "AttachEffect"
	                {
	                   //TODO
	                }
	
	            }
	
	            "OnAttackLanded"
	            {
	                "FireSound"
	                {
	                    // TODO find a fitting sound
	                    //"Target"            "TARGET"
	                    //"EffectName"        "Hero_Kunkka.Tidebringer.Attack"
	                }
	            
	
	                "AttachEffect"
	                {
	                  //TODO
	                }
	            
	              
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/kisame/samehada.lua"
	                    "Function"      "StealMana"
	                }
	                        
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/kisame/samehada.lua"
	                    "Function"      "SamehadaResetCooldown"
	                }
	            }
	            
	        }
	
	
	    }
	
	}
	"kisame_suikodan_no_jutsu"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityTextureName"			"kisame_suikodan_no_jutsu"
	
		// Precache
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_vengefulspirit.vsndevts"
			"particle"			"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror_recipient.vpcf"
			"particle"  		"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror.vpcf"		
		}
		
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"450"
		"AbilityCastPoint"				"0.3 0.3 0.3 0.3"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"12.0 12.0 12.0 12.0"
		"AbilityDuration"				"0.2 0.2 0.2 0.2"
	
		// Damage.
		//-------------------------------------------------------------------------------------------------------------
		"AbilityDamage"					"110 150 190 230"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"120 120 120 120"
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"wave_speed"		"2000.0"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"wave_width"		"450"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"armor_reduction"	"-1 -2 -3 -4"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"debuff_duration"	"4 4 4 4"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"wave_range"		"800"
			}
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"wave_aoe"			"150"
			}
			"07"
			{
				"var_type"			"FIELD_INTEGER"
				"ms_slow_percentage"	"-25 -25 -25 -25"
			}
			"08"
			{
				"var_type"			"FIELD_INTEGER"
				"slow_duration"		"4 4 4 4"
			}			
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_VengefulSpirit.WaveOfTerror"
				"Target" 		"CASTER"
			}
	
			"RunScript"
			{
				"ScriptFile"	"heroes/kisame/suikodan_no_jutsu.lua"
				"Function"		"suikodan_no_jutsu"
				"Target"		"POINT"
				"wave_particle"	"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror.vpcf"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"0"
			"ApplyModifier"
			{
				"ModifierName"	"modifier_suikodan_no_jutsu_debuff"
				"Target" 		"TARGET"
				"Duration"		"%debuff_duration"
			}
	
			"Damage"
			{
				"Target"		"TARGET"
				"Type"			"DAMAGE_TYPE_MAGICAL"
				"Damage"		"%AbilityDamage"
			}
		}
	
		"Modifiers"
		{
			"modifier_suikodan_no_jutsu_debuff"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"1"
		
				"EffectName"		"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror_recipient.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%armor_reduction"
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%ms_slow_percentage"
				}
			}
	
		}
		
	}
	"kisame_water_prison"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"				"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
		"AbilityTextureName"			"kisame_water_prison"
	
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastPoint"				"0."
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"50.0"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"50"
	
		//Stats
		"AbilityDamage"					"40 64 88"
	
		// Special	
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"duration"				"40 44 48 52"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"transformation_time"	"0.35"
			}
	
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"radius"				"450"
			}
	
			"04"
			{
				"var_type"				"FIELD_FLOAT"
				"ms_slow_percentage"	"-20"
			}
	
			"05"
			{
				"var_type"							"FIELD_FLOAT"
				"mana_cost_per_second_percentage"	"3"
			}
	
			"06"
			{
				"var_type"							"FIELD_FLOAT"
				"tick_interval"						"1"
			}
	
			"07"
			{
				"var_type"							"FIELD_FLOAT"
				"tick_interval_modifier"			"0.1"
			}
	
		}
	
		"precache"
		{
			"soundfile"	"soundevents/game_sounds_heroes/game_sounds_terrorblade.vsndevts"
			"particle"  "particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis.vpcf"
			"particle"	"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_transform.vpcf"
			"particle"	"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_base_attack.vpcf"
			"particle"	"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_ambient.vpcf"
			"model"		"models/kisame/kisame_samehada.vmdl"
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"		"Hero_Terrorblade.Metamorphosis"
				"Target"			"CASTER"
			}
			"FireEffect"
			{
				"EffectName"		"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_transform.vpcf"
				"EffectAttachType"	"follow_origin"
				"Target"			"CASTER"
			}
			"ApplyModifier"
			{
				"ModifierName"		"modifier_kisame_metamorphosis"
				"Target"			"CASTER"
			}
		}
	
		"Modifiers"
		{
	
			"modifer_water_prison_slow"
			{
	
	          "Passive"     "0"
	          "IsHidden"      "0"
	          "IsDebuff"      "1"
	          "EffectName"    "particles/units/heroes/hero_brewmaster/brewmaster_thunder_clap_debuff.vpcf"
	          "EffectAttachType"  "follow_origin"
	      
	          "StatusEffectName"    "particles/status_fx/status_effect_brewmaster_thunder_clap.vpcf"     
	          "StatusEffectPriority"  "10"
	
	          "Properties"
	          {
	            "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%ms_slow_percentage"
	          } 
	        
			}
	
			"modifier_kisame_metamorphosis"
			{
				
				"EffectName" 		"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis.vpcf"
				"EffectAttachType"  "follow_origin"
	
				"AllowsIllusionDuplicate"	"1"
	
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"			"heroes/kisame/water_prison.lua"
						"Function"				"ModelSwapStart"
						"model"					"models/kisame/kisame_samehada.vmdl"
						"projectile_model"		"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_base_attack.vpcf"
					}
	
					"AttachEffect"
					{
						"EffectName" 		"particles/units/heroes/hero_terrorblade/terrorblade_metamorphosis_ambient.vpcf"
						"EffectAttachType"	"follow_origin"
						"Target"			"TARGET"
					}
				}
	
	
				"ThinkInterval"	"%tick_interval"
				"OnIntervalThink"
				{
	
					"RunScript"
					{
						"ScriptFile"			"heroes/kisame/water_prison.lua"
						"Function"				"ManaCost"
						"modifierRemove"		"modifier_kisame_metamorphosis"
					}
	
	
					"Damage"
					{
						  "Target"
					      {
					        "Center"  "CASTER"
					        "Radius"  "%radius"
					        "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
					        "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
					      }
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Damage"	"%AbilityDamage"
					}
				}
	
				"ThinkInterval"	"%tick_interval_modifer"
				"OnIntervalThink"
				{
				 "ApplyModifier"
					    {
					      "ModifierName"  "modifer_water_prison_slow"
					      "Target"
					      {
					        "Center"  "CASTER"
					        "Radius"  "%radius"
					        "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
					        "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
					      }
					      "Duration"    "%tick_interval"
					    }
				}
				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/kisame/water_prison.lua"
						"Function"		"ModelSwapEnd"
					}
	
				}
			}
		}
	}
	"neji_byakugan"
	{
	    // General  
	    // ----------------------------------------------------------------------------------------
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
	    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
	    "AbilityTextureName"        "neji_byakugan"
	
	
	    "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"               "4"
	
	
	    // Casting
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCastRange"              "0"
	    "AbilityDuration"               "0.2 0.2 0.2 0.2"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "20"
	    "AbilityCastPoint"              "15 14 13 12"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "60 60 60 60"
	
	
	     "precache"
	    {
	      "particle"  "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	      "particle"  "particles/generic_gameplay/generic_purge.vpcf"
	      "particle"   "particles/econ/items/razor/razor_punctured_crest/razor_helmet_blade_ambient_a.vpcf"
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        { 
	            "var_type"  "FIELD_INTEGER"
	            "extra_range_attack" "400"
	        }
	        "02"
	        {
	            "var_type" "FIELD_INTEGER"
	            "slow_ms" "10 20 30 40"
	        }
	        "03"
	        {
	            "var_type" "FIELD_FLOAT"
	            "vision_aoe" "600.0 700.0 800.0 900.0"
	        }
	         "04"
	        {
	            "var_type" "FIELD_FLOAT"
	            "duration" "2.0 2.0 2.0 2.0"
	        }
	    }
	
	    "OnSpellStart"
	    {           
	
	        "RunScript"
	        {
	            "ScriptFile"    "heroes/neji/byakugan.lua"
	            "Function"      "vision"
	        }
	
	        "FireSound"
	        {
	            //TODO 
	        }
	        
	
	        "ApplyModifier"
	        {
	            "ModifierName"    "modifier_byakugan"
	            "Target"         "CASTER"
	            "Duration"        "%duration"
	        }
	            
	        
	        
	    }
	
	
	    "Modifiers"
	    {
	       "modifier_byakugan"
	        {
	            "Passive"           "0"
	            "IsHidden"          "0"
	    
	            "ThinkInterval"  "0.03"
	            "OnIntervalThink"
	            {
	                "ActOnTargets"
	                {
	                    "Target"
	                    {
	                        "Center"    "TARGET"
	                        "Radius"    "%vision_aoe"
	                        "Teams"     "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"     "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	                    }
	                
	                    "Action"    
	                    {
	                        
	
	                        "ApplyModifier"
	                        {
	                            "ModifierName"  "modifier_truesight_reveal"
	                            "Target"        "TARGET"
	                        }
	                    }
	                }           
	            }       
	        }
	
	        "modifier_truesight_reveal"
	        {
	            "IsDebuff"          "1"
	            "IsHidden"          "1"
	            "Duration"          "0.5"   //The True Sight effect lingers for 0.5 seconds.
	            "States"
	            {
	                "MODIFIER_STATE_INVISIBLE"  "MODIFIER_STATE_VALUE_DISABLED"
	            }
	        }
	    }
	
	}
	"neji_hakke_kuuhekishou"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityTextureName"			"neji_hakke_kuuhekishou"
	
		// Precache
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_vengefulspirit.vsndevts"
			"particle"			"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror_recipient.vpcf"
			"particle"  		"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror.vpcf"		
		}
		
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"450"
		"AbilityCastPoint"				"0.3 0.3 0.3 0.3"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"12.0 12.0 12.0 12.0"
		"AbilityDuration"				"0.2 0.2 0.2 0.2"
	
		// Damage.
		//-------------------------------------------------------------------------------------------------------------
		"AbilityDamage"					"70 140 210 280"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"90 90 90 90"
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"wave_speed"		"2000.0"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"wave_width"		"450"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"mana_reg_reduction"	"-150 -300 -450 -600"
			}
			"04"
			{
				"var_type"			"FIELD_FLOAT"
				"debuff_duration"	"4 4 4 4"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"wave_range"		"450"
			}		
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"	"Hero_VengefulSpirit.WaveOfTerror"
				"Target" 		"CASTER"
			}
	
			"RunScript"
			{
				"ScriptFile"	"heroes/neji/hakke_kuuhekishou.lua"
				"Function"		"hakke_kuuhekishou"
				"Target"		"POINT"
				"wave_particle"	"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror.vpcf"
			}
		}
	
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"	"0"
			"ApplyModifier"
			{
				"ModifierName"	"modifier_hakke_kuuhekishou_debuff"
				"Target" 		"TARGET"
				"Duration"		"%debuff_duration"
			}
	
			"Damage"
			{
				"Target"		"TARGET"
				"Type"			"DAMAGE_TYPE_MAGICAL"
				"Damage"		"%AbilityDamage"
			}
		}
	
		"Modifiers"
		{
			"modifier_hakke_kuuhekishou_debuff"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"1"
		
				"EffectName"		"particles/units/heroes/hero_vengeful/vengeful_wave_of_terror_recipient.vpcf"
				"EffectAttachType"	"follow_origin"
		
				"Properties"
				{
					"MODIFIER_PROPERTY_MANA_REGEN_PERCENTAGE" "%mana_reg_reduction"
				}
			}
		}
	}
	"neji_hyaku_nijuuhachi_shou"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityType"					"DOTA_ABILITY_TYPE_ULTIMATE"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_CHANNELLED"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitTargetFlags"		"DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_YES"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"FightRecapLevel"				"2"
		"AbilityTextureName"			"neji_hyaku_nijuuhachi_shou"
	
		// Precache
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
					"particle"	"particles/generic_gameplay/generic_silence.vpcf"
		}	
	
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"300"
		"AbilityCastPoint"				"0.5 0.5 0.5"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityChannelTime"			"3.0 3.0 3.0"
		"AbilityCooldown"				"120.0 100.0 80.0"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"150 200 250"		
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"						"FIELD_FLOAT"
				"tick_interval"					"0.1"
			}
			"02"
			{
				"var_type"						"FIELD_FLOAT"
				"duration"						"3.0 3.0 3.0"
			}
			"03"
			{
				"var_type"						"FIELD_INTEGER"
				"damage"						"300 400 500"
			}
			"04"
			{
				"var_type"						"FIELD_INTEGER"
				"aoe_radius"							"250"
			}
			"05"
			{
				"var_type"						"FIELD_INTEGER"
				"damage"						"300 400 500"
			}
			"06"
			{
				"var_type"						"FIELD_INTEGER"
				"damage_per_interval"			"10 13.33 16.66"
			}
		}
	
		"OnSpellStart"
		{
			"Damage"
			{
				"Target"	"TARGET"
				"Type"		"DAMAGE_TYPE_MAGICAL"
				"Damage"	"%damage_per_interval"
			}
			
			"FireSound"
			{
					
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_hyaku_nijuuhachi_shou"
				"Target"
				{
					"Center"	"TARGET"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
				}
			}
	
			"ApplyModifier"
			{
				"ModifierName"	"modifier_hyaku_nijuuhachi_shou_caster"
				"Target" 		"CASTER"
			}	
			
		}
	
		"OnChannelInterrupted"
		{
			"RemoveModifier"
			{
				"ModifierName"	"modifier_hyaku_nijuuhachi_shou"
				"Target"
				{
					"Center"	"TARGET"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
				}
			}
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_hyaku_nijuuhachi_shou_invis"
				"Target"
				{
					"Center"	"TARGET"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
				}
			}
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_hyaku_nijuuhachi_shou_caster"
				"Target" 		"CASTER"
			}
	
			"RunScript"
			{
				//"ScriptFile"	"heroes/neji/hyaku_nijuuhachi_shou.lua"
				//"Function"		"FiendsGripStopSound"
				//"sound"			"Hero_Bane.FiendsGrip"
			}
	
			"RunScript"
			{
				//"ScriptFile"	"heroes/neji/hyaku_nijuuhachi_shou.lua"
				//"Function"		"FiendsGripStopSound"
				//"sound"			"Hero_Bane.FiendsGrip.Cast"
			}
		}
	
		"OnChannelFinish"
		{
			"RemoveModifier"
			{
				"ModifierName"	"modifier_hyaku_nijuuhachi_shou"
				"Target"
				{
					"Center"	"TARGET"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
				}
			}
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_hyaku_nijuuhachi_shou_invis"
				"Target"
				{
					"Center"	"TARGET"
					"Flags"     "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
				}
			}
	
			"RemoveModifier"
			{
				"ModifierName"	"modifier_hyaku_nijuuhachi_shou_caster"
				"Target" 		"CASTER"
			}
	
			"RunScript"
			{
				//"ScriptFile"	"heroes/neji/hyaku_nijuuhachi_shou.lua"
				//"Function"		"FiendsGripStopSound"
				//"sound"			"Hero_Bane.FiendsGrip"
			}
	
			"RunScript"
			{
				//"ScriptFile"	"heroes/neji/hyaku_nijuuhachi_shou.lua"
				//"Function"		"FiendsGripStopSound"
				//"sound"			"Hero_Bane.FiendsGrip.Cast"
			}
		}
	
		"Modifiers"
		{
			"modifier_hyaku_nijuuhachi_shou"
			{
				"IsDebuff"	"1"
				
				"EffectName"	"particles/units/heroes/hero_bane/bane_fiends_grip.vpcf"
				"EffectAttachType"	"attach_origin"
	
				"OverrideAnimation" "ACT_DOTA_FLAIL"
	
				"OnCreated"
				{
					"FireSound"
					{
						"EffectName"	"Hero_Bane.FiendsGrip"
						"Target"		"TARGET"
					}
	
					"RunScript"
					{
						"ScriptFile"	"heroes/neji/hyaku_nijuuhachi_shou.lua"
						"Function"		"hyaku_nijuuhachi_shou_invis_check"
						"modifier_reveal"	"modifier_fiend_grip_invis_datadriven"
					}
				}
	
				"ThinkInterval"	"%tick_interval"
				"OnIntervalThink"
				{
	
					"Damage"
					{
						"Target"	"TARGET"
						"Type"		"DAMAGE_TYPE_MAGICAL"
						"Damage"	"%damage_per_interval"
					}
	
						"ApplyModifier"
						{
							"ModifierName"  "modifier_hyaku_nijuuhachi_shou_silence"
							"Target"
							{
								        "Center"  "TARGET"
								        "Radius"  "%aoe_radius"
								        "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
								        "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
							}
								      "Duration"    "0.1"
						}
	
				}			
				
				"States"
				{
					"MODIFIER_STATE_STUNNED" 	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
	
			"modifier_hyaku_nijuuhachi_shou_caster"
			{
				"IsHidden"	"1"
	
				"States"
				{
					"MODIFIER_STATE_LOW_ATTACK_PRIORITY"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
	
			"modifier_fiend_grip_invis_datadriven"
			{
				"IsHidden"	"1"
	
				"States"
				{
					"MODIFIER_STATE_INVISIBILITY"	"MODIFIER_STATE_VALUE_DISABLED"
				}
			}
	
			"modifier_hyaku_nijuuhachi_shou_silence"
			{
				"IsDebuff"	"1"
				"Duration"	"0.1"
				"IsPurgable"	"1"
				"EffectName"	"particles/generic_gameplay/generic_silence.vpcf"
				"EffectAttachType"	"follow_overhead"			
				"States"
				{
					"MODIFIER_STATE_SILENCED"	"MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	}
	"neji_kaiten"
	{
	    // General  
	    // ----------------------------------------------------------------------------------------
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
	    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
	    "AbilityTextureName"        "neji_kaiten"
	
	
	    "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"               "4"
	    "AbilityDamage"                 "75 150 225 300"
	
	    // Casting
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCastRange"              "0"
	    "AbilityDuration"               "3"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "12"
	    "AbilityCastPoint"              "0.0 0.0 0.0 0.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "75 75 75 75"
	    
	
	     "precache"
	    {
	      "particle"  "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	      "particle"  "particles/generic_gameplay/generic_purge.vpcf"
	      "particle"   "particles/econ/items/razor/razor_punctured_crest/razor_helmet_blade_ambient_a.vpcf"
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        { 
	            "var_type"  "FIELD_INTEGER"
	            "aoe_target" "300"
	        }
	        "02"
	        {
	            "var_type" "FIELD_FLOAT"
	            "push_back_length" "200.0"
	        }
	        "03"
	        {
	            "var_type" "FIELD_FLOAT"
	            "damage" "75 150 225 300"
	        }
	    }
	
	    "OnSpellStart"
	    {
	        "FireSound"
	        {
	            //TODO
	        }
	
	        "RunScript"
	        {
	            "ScriptFile"        "heroes/neji/kaiten.lua"
	            "Function"          "kaiten_launch"
	            "Target"            "Caster"
	           // "projectile_particle"   "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial.vpcf"
	            "main_ability_name" "neji_kaiten"
	            "sub_ability_name"  "neji_kaiten_release"
	        }
	
	   
	    
	
	    }
	
	    "OnUpgrade"
	    {
	        "LevelUpAbility"
	        {
	            "Target"        "CASTER"
	            "AbilityName"   "neji_kaiten_release"
	        }
	    }
	
	
	    "Modifiers"
	    {
	        
	    }
	
	}
	"neji_kaiten_release"
	{
	    // General  
	    // ----------------------------------------------------------------------------------------
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
	    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
	    "AbilityTextureName"        "neji_kaiten_release"
	
	
	    "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"               "4"
	    "AbilityDamage"                 "75 150 225 300"
	
	    // Casting
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCastRange"              "0"
	    "AbilityDuration"               "3"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "1.0"
	    "AbilityCastPoint"              "0.0 0.0 0.0 0.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0"
	
	
	     "precache"
	    {
	      "particle"  "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	      "particle"  "particles/generic_gameplay/generic_purge.vpcf"
	      "particle"   "particles/econ/items/razor/razor_punctured_crest/razor_helmet_blade_ambient_a.vpcf"
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        { 
	            "var_type"  "FIELD_INTEGER"
	            "aoe_target" "300"
	        }
	        "02"
	        {
	            "var_type" "FIELD_FLOAT"
	            "push_back_length" "200.0"
	        }
	        "03"
	        {
	            "var_type" "FIELD_FLOAT"
	            "damage" "75 150 225 300"
	        }
	    }
	
	    "OnSpellStart"
	    {
	        "FireSound"
	        {
	            //TODO
	        }
	
	       "RunScript"
	        {
	            "ScriptFile"        "heroes/neji/kaiten.lua"
	            "Function"          "kaiten_release"
	            "Target"            "Caster"
	           // "projectile_particle"   "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial.vpcf"
	            "main_ability_name" "neji_kaiten_release"
	            "sub_ability_name"  "neji_kaiten"
	        }
	
	
	        "RemoveModifier"
	        {
	            "ModifierName"    "neji_kaiten_on_hit"
	            "Target"         "CASTER"
	        }
	
	
	        "Knockback"
	                {
	                     "Target"
	                     {
	                        "Center"            "CASTER"
	                        "Radius"            "%aoe_target"
	                        "Teams"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	                    }
	                    "Center"            "Target"
	                    "Distance"          "%push_back_length"
	                    "Duration"          "0.5" // TODO check
	                    "Height"            "0"
	                    "IsFixedDistance"   "0"
	                    "ShouldStun"        "0" 
	                }
	
	
	        "Damage"
	        {
	            "Target"
	             {
	                "Center"            "CASTER"
	                "Radius"            "%aoe_target"
	                "Teams"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                "Types"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	            }
	            "Type"           "DAMAGE_TYPE_MAGICAL"
	           "Damage"         "%damage"
	        }      
	
	    }
	
	
	
	    "Modifiers"
	    {
	        "neji_kaiten_on_hit"
	        {
	            "IsBuff"    "1"
	            "Hidden"    "0"
	            "Passive"   "1"
	            "Duration"  "%AbilityDuration"
	            "OnAttacked"
	            // "%attack_damage" is set to the damage value after mitigation
	            {
	
	                 "Knockback"
	                {
	                     "Target"
	                     {
	                        "Center"            "CASTER"
	                        "Radius"            "%aoe_target"
	                        "Teams"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	                    }
	                    "Center"            "Target"
	                    "Distance"          "%push_back_length"
	                    "Duration"          "0.5"
	                    "Height"            "0"
	                    "IsFixedDistance"   "0"
	                    "ShouldStun"        "0" 
	                }
	
	
	                "Damage"
	                {
	                    "Target"
	                     {
	                        "Center"            "CASTER"
	                        "Radius"            "%aoe_target"
	                        "Teams"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	                    }
	                    "Type"           "DAMAGE_TYPE_MAGICAL"
	                   "Damage"         "%damage"
	                }      
	
	
	                "RunScript"
	                {
	                     "ScriptFile"        "heroes/neji/kaiten.lua"
	                     "Function"          "kaiten_release"
	                     "Target"            "Caster"
	                   // "projectile_particle"   "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial.vpcf"
	                    "main_ability_name" "neji_kaiten_release"
	                    "sub_ability_name"  "neji_kaiten"
	                }
	
	
	                  "RemoveModifier"
	                {
	                    "ModifierName"    "neji_kaiten_on_hit"
	                    "Target"         "CASTER"
	                }
	            }
	
	
	            "ThinkInterval"  "3"
	            "OnIntervalThink"
	            {   
	                   "RunScript"
	                    {
	                        "ScriptFile"        "heroes/neji/kaiten.lua"
	                        "Function"          "kaiten_release"
	                        "Target"            "Caster"
	                       // "projectile_particle"   "particles/units/heroes/hero_ancient_apparition/ancient_apparition_ice_blast_initial.vpcf"
	                        "main_ability_name" "neji_kaiten_release"
	                        "sub_ability_name"  "neji_kaiten"
	                    }
	
	                 "RemoveModifier"
	                {
	                    "ModifierName"    "neji_kaiten_on_hit"
	                    "Target"         "CASTER"
	                }
	            }
	        }
	
	    }
	
	}
	"onoki_jinton"
	{
	
		"BaseClass"			 			"ability_datadriven"
		"AbilityTextureName"			"onoki_jinton"
		"MaxLevel" 						"4"
	
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"
	
		"AbilityCastRange"				"500"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_1"
	
		"AbilityCooldown"				"25 22 19 16"
		"AbilityManaCost"				"75 100 125 150"
		"AbilityDamage"					"120 170 220 270"
	
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"stun_duration"			"1.75"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"stun_radius"		"200 225 250 275"
			}
		}
	
		"OnSpellStart"
		{
			"ApplyModifier"
			{
				"ModifierName"  "modifier_jinton_stun"
				"Target"
				{
					"Center"  "TARGET"
					"Radius"  "%stun_radius"
					"Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
					"Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
				}
				"Duration"	"%stun_duration"
			}
			"Damage"
			{
				"Target"  "TARGET"
				"Type"    "DAMAGE_TYPE_PHYSICAL"
				"Damage"  "%AbilityDamage"
			}
		}
	
		"Modifiers"
		{
			"modifier_jinton_stun"
			{
				"Passive"			"0"
				"IsHidden"			"0"
				"IsDebuff"			"1"
				"Duration"			"%stun_duration"
		
				//"EffectName"		"particle_name"
				//"EffectAttachType"	"follow_origin"
		
				"States"
				{
					"MODIFIER_STATE_STUNNED"        "MODIFIER_STATE_VALUE_ENABLED"
				}
			}
		}
	
	}
	//=================================================================================================================
	    // Raikage Lariat
	    //=================================================================================================================
	    "raikage_lariat"
	    {
	        // General
	        //-------------------------------------------------------------------------------------------------------------
	        "BaseClass"                     "ability_datadriven"
	        "AbilityBehavior"               "DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_AOE | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
	        "AbilityUnitTargetTeam"         "DOTA_UNIT_TARGET_TEAM_ENEMY"
	        "AbilityUnitTargetType"         "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	        "AbilityUnitTargetFlags"        "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
	        "AbilityUnitDamageType"         "DAMAGE_TYPE_MAGICAL"   
	        "SpellImmunityType"             "SPELL_IMMUNITY_ENEMIES_YES"
	        "FightRecapLevel"               "1"
	        "AbilityTextureName"            "raikage_lariat"
	        "AOERadius"                     "%radius"
	
	        // Precache
	        //-------------------------------------------------------------------------------------------------------------
	        "precache"
	        {
	            "soundfile"                 "soundevents/game_sounds_heroes/game_sounds_sven.vsndevts"
	            "particle"                  "particles/units/heroes/hero_sven/sven_spell_storm_bolt.vpcf"
	            "particle"                  "particles/hero/sven/sven_ult_storm_bolt.vpcf"
	            "particle"                  "particles/units/heroes/hero_sven/sven_storm_bolt_projectile_explosion.vpcf"
	            "particle"                  "particles/generic_gameplay/generic_stunned.vpcf"
	        }
	        
	        // Casting
	        //-------------------------------------------------------------------------------------------------------------
	        "AbilityCastRange"              "400 600 800 1000"
	        "AbilityCastPoint"              "0.25"
	
	        // Time     
	        //-------------------------------------------------------------------------------------------------------------
	        "AbilityCooldown"               "15.0"
	
	        // Cost
	        //-------------------------------------------------------------------------------------------------------------
	        "AbilityManaCost"               "95 115 125 135"
	
	        // Special
	        //-------------------------------------------------------------------------------------------------------------
	        "AbilitySpecial"
	        {
	            "01"
	            {
	                "var_type"              "FIELD_INTEGER"
	                "speed"                 "800 1000 1200 1400"
	            }
	            "02"
	            {
	                "var_type"              "FIELD_INTEGER"
	                "damage"                "125 150 175 200"
	            }
	            "03"
	            {
	                "var_type"              "FIELD_FLOAT"
	                "duration"              "1.25 1.5 1.75 2.0"
	            }
	            "04"
	            {
	                "var_type"              "FIELD_INTEGER"
	                "radius"                "275 300 325 350"
	            }
	            "05"
	            {
	                "var_type"              "FIELD_INTEGER"
	                "vision_radius"         "450"
	            }
	        }
	
	        "OnSpellStart"
	        {
	            "RunScript"
	            {
	                "ScriptFile"            "heroes/raikage/lariat.lua"
	                "Function"              "StormBoltLaunch"
	
	                "modifier_caster"       "modifier_imba_storm_bolt_caster"
	                "particle_bolt"         "particles/units/heroes/hero_sven/sven_spell_storm_bolt.vpcf"
	                "particle_ult"          "particles/hero/sven/sven_ult_storm_bolt.vpcf"
	                "sound_cast"            "Hero_Sven.StormBolt"
	
	                "Target"
	                {
	                    "Center"            "TARGET"
	                    "Teams"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                    "Types"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	                    "Flags"             "DOTA_UNIT_TARGET_FLAG_MAGIC_IMMUNE_ENEMIES"
	                }
	            }
	        }
	
	        "OnProjectileFinish"
	        {
	            "RunScript"
	            {
	                "ScriptFile"            "heroes/raikage/lariat.lua"
	                "Function"              "StormBoltEnd"
	
	                "modifier_caster"       "modifier_imba_storm_bolt_caster"
	            }
	        }
	
	        "OnProjectileHitUnit"
	        {
	            "RunScript"
	            {
	                "ScriptFile"            "heroes/raikage/lariat.lua"
	                "Function"              "StormBoltHit"
	
	                "modifier_caster"       "modifier_imba_storm_bolt_caster"
	                "sound_impact"          "Hero_Sven.StormBoltImpact"
	                "particle_impact"       "particles/units/heroes/hero_sven/sven_storm_bolt_projectile_explosion.vpcf"
	            }
	        }
	
	        "Modifiers"
	        {
	            "modifier_imba_storm_bolt_caster"
	            {
	                "Passive"               "0"
	                "IsDebuff"              "1"
	                "IsHidden"              "1"
	                "IsPurgable"            "0"
	
	                "States"
	                {
	                    "MODIFIER_STATE_STUNNED"        "MODIFIER_STATE_VALUE_ENABLED"
	                    "MODIFIER_STATE_OUT_OF_GAME"    "MODIFIER_STATE_VALUE_ENABLED"
	                    "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
	                    "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
	                }
	            }
	        }
	    }
	// Rewrite of the Mirana Sacred Arrow ability
	// Author: Pizzalol
	// Date: 26.09.2015.
	"dummy"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_DIRECTIONAL | DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_IGNORE_BACKSWING"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"FightRecapLevel"				"1"
		"AbilityTextureName"			"mirana_arrow"
	
		// Precache
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"			"soundevents/game_sounds_heroes/game_sounds_mirana.vsndevts"
			"particle"			"particles/units/heroes/hero_mirana/mirana_spell_arrow.vpcf"
		}
		
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"2000"
		"AbilityCastPoint"				"0.5 0.5 0.5 0.5"
	
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"17.0"
		"AbilityDuration"				"3.11 3.11 3.11 3.11"
	
		// Damage.
		//-------------------------------------------------------------------------------------------------------------
		"AbilityDamage"					"50 140 230 320"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"100 100 100 100"
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"arrow_speed"		"857.0"
			}
			"02"
			{
				"var_type"			"FIELD_INTEGER"
				"arrow_width"		"115"
			}
			"03"
			{
				"var_type"			"FIELD_INTEGER"
				"arrow_range"		"600"
			}
			"04"
			{
				"var_type"			"FIELD_INTEGER"
				"arrow_max_stunrange"	"1500"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"arrow_min_stun"	"0.01"
			}
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"arrow_max_stun"	"5.0"
			}
			"07"
			{
				"var_type"			"FIELD_INTEGER"
				"arrow_bonus_damage"	"140"
			}
			"08"
			{
				"var_type"			"FIELD_INTEGER"
				"arrow_vision"	"650"
			}
			"09"
			{
				"var_type"			"FIELD_INTEGER"
				"arrow_max_damagerange"	"1500"
			}
			"10"
			{
				"var_type"			"FIELD_FLOAT"
				"vision_duration"	"3.0"
			}
		}
	
		"OnSpellStart"
		{
			"FireSound"
			{
				"EffectName"			"Hero_Mirana.ArrowCast"
				"Target"				"CASTER"
			}
	
			"LinearProjectile"
			{
				"Target"      	"POINT"
			    "EffectName"  	"particles/units/heroes/hero_mirana/mirana_spell_arrow.vpcf"
			    "MoveSpeed"   	"%arrow_speed"
			    "StartRadius"   "%arrow_width"
			    "StartPosition" "attach_origin"
			    "EndRadius"     "%arrow_width"
			    "FixedDistance" "%arrow_range"
			    "TargetTeams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
			    "TargetTypes"   "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
			    "TargetFlags"   "DOTA_UNIT_TARGET_FLAG_NONE"
			    "HasFrontalCone"    "0"
			    "ProvidesVision"	"1"
			    "VisionRadius"	"%arrow_vision"
			}
					"RunScript"
					{
						"ScriptFile"		"heroes/arrow.lua"
						"Function"			"LaunchArrowCheck"
						"particle_name"		"particles/units/heroes/hero_mirana/mirana_spell_arrow.vpcf"
						"modifier_caster"	"modifier_imba_storm_bolt_caster"
					}
			
		}
	
		"OnProjectileFinish"
		{
			"ApplyModifier"
			{
				"ModifierName"	"dummy_arrow"
				"Target" 		"CASTER"
				"Duration"		"4"
			}
		}
	
		"Modifiers"
		{
			"dummy_arrow"
			{
				"Passive"			"0"
				"IsHidden"			"1"
				"OnCreated"
				{
					"RunScript"
					{
						"ScriptFile"	"heroes/arrow.lua"
						"Function"		"LaunchArrowCheckInit"
						"particle_name"			"particles/units/heroes/hero_mirana/mirana_spell_arrow.vpcf"
					}
				}
	
			}
	
			"modifier_imba_storm_bolt_caster"
	            {
	                "Passive"               "0"
	                "IsDebuff"              "1"
	                "IsHidden"              "1"
	                "IsPurgable"            "0"
	
	                "States"
	                {
	                    "MODIFIER_STATE_STUNNED"        "MODIFIER_STATE_VALUE_ENABLED"
	                    "MODIFIER_STATE_OUT_OF_GAME"    "MODIFIER_STATE_VALUE_ENABLED"
	                    "MODIFIER_STATE_INVULNERABLE"   "MODIFIER_STATE_VALUE_ENABLED"
	                    "MODIFIER_STATE_NO_HEALTH_BAR"  "MODIFIER_STATE_VALUE_ENABLED"
	                }
	            }
		}
	}
	"raikage_raiga_no_bomu"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT | DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"AbilityType" 					"DOTA_ABILITY_TYPE_ULTIMATE"
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"FightRecapLevel" 				"2"
		"AbilityTextureName"			"raikage_raiga_no_bomu"
		"AbilityCastAnimation" 			"ACT_DOTA_IDLE"
		"MaxLevel" 						"3"
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"120"
		"AbilityCastPoint"				"0.0 0.0 0.0"
		
		// Time		
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"90 80 70"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"110 120 130"//TODO
		
		"AbilityDamage"					"150 225 300"
		
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_INTEGER"
				"reduce_armor"		"-7 -7 -7"
			}
			"02"
			{
				"var_type"			"FIELD_FLOAT"
				"target_aoe"		"525"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"knock_up"			"0.52"
			}
			"04"
			{
				"var_type"					"FIELD_FLOAT"
				"armor_reduction_duration"	"2 3 4"//TODO
			}
		}
		
		// Data driven
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
	
	            "soundfile"            "sounds/weapons/hero/centaur/hoof_stomp.vsnd"
	            "particle" 				"particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
	            "particle"  			"particles/units/heroes/hero_brewmaster/brewmaster_thunder_clap.vpcf"
	        	"particle"  			"particles/units/heroes/hero_brewmaster/brewmaster_thunder_clap_debuff.vpcf"
	            "soundfile"				"Hero_Centaur.HoofStomp"
		}
		
		"OnSpellStart"
		{
	
	
			"Knockback"
			{
					"Target"			"TARGET"
					"Duration"			"%knock_up"
					"Distance"			"0"
					"Height"			"500"
					"OverrideAnimation"			"ACT_DOTA_DISABLED"
				
					"EffectName"				"particles/generic_gameplay/generic_stunned.vpcf"
					"EffectAttachType"			"follow_overhead"
			}
	
			"Knockback"
			{
					"Target"			"CASTER"
					"Duration"			"%knock_up"
					"Distance"			"0"
					"Height"			"300"
			}
	
			"DelayedAction"
			{
				"Delay"						"%knock_up"
				"Action"
				{
	
					"FireEffect"
					{
						"EffectName"       "particles/units/heroes/hero_centaur/centaur_warstomp.vpcf"
						"EffectAttachType"  "follow_origin"
						"Target"            "TARGET"
					}
				
	
					"FireSound"
					{
						"EffectName"		"Hero_Centaur.HoofStomp"
						"Target" 			"CASTER"
					}
	
					"Damage"
					{
						"Target"
	     				 {
						        "Center"    "TARGET"
						        "Radius"  "%target_aoe"
						        "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
						        "Types"   "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	     				 }
	      				"Type"      		"DAMAGE_TYPE_MAGICAL"
						"Damage"			"%AbilityDamage"
					}
	
					"ApplyModifier"
				    	{
					      "ModifierName"  "raikage_knockup"
					      "Target"
					      {
					        "Center"  "TARGET"
					        "Radius"  "%target_aoe"
					        "Teams"   "DOTA_UNIT_TARGET_TEAM_ENEMY"
					        "Types"   "DOTA_UNIT_TARGET_BASIC | DOTA_UNIT_TARGET_HERO"
					      }
					      "Duration"    "%armor_reduction_duration"
				    	}
	
				   "FireSound"
					{
						"soundfile"	"sounds/weapons/hero/centaur/hoof_stomp.vsnd" 
					}
	
				}
			}
		}
			
		
		"Modifiers"
		{
			"raikage_knockup"
			{
			  "Passive"     "0"
	          "IsHidden"      "0"
	          "IsDebuff"      "1"
	          
	          "EffectName"    "particles/units/heroes/hero_brewmaster/brewmaster_thunder_clap_debuff.vpcf"
	          "EffectAttachType"  "follow_origin"
	      
	          "StatusEffectName"    "particles/status_fx/status_effect_brewmaster_thunder_clap.vpcf"     
	          "StatusEffectPriority"  "10"
	
	          "Properties"
	          {
	            "MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS" "%reduce_armor"
	          }
		
			}
		}
	}
	"raikage_raigyaku_suihei"
	{
	    // General  
	    // ----------------------------------------------------------------------------------------
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
	    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
	    "AbilityTextureName"        "raikage_raigyaku_suihei"
	
	
	    "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"               "4"
	
	
	    // Casting
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCastRange"              "0"
	    "AbilityDuration"               "0"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "15"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "0"
	
	
	     "precache"
	    {
	      "particle"  "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	      "particle"  "particles/generic_gameplay/generic_purge.vpcf"
	      "particle"  "particles/econ/items/razor/razor_punctured_crest/razor_helmet_blade_ambient_a.vpcf"
	      "particle"  "particles/units/heroes/hero_razor/razor_base_attack_impact_b.vpcf"
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        { 
	            "var_type"  "FIELD_FLOAT"
	            "str_ratio_damage" "0.5 0.6 0.7 0.8"
	        }
	        "02"
	        {
	            "var_type" "FIELD_FLOAT"
	            "damage_reduction" "15.0 20.0 25.0 30.0"
	        }
	        "03"
	        {
	            "var_type" "FIELD_FLOAT"
	            "aoe"       "250.0"
	        }
	        "04"
	        { 
	            "var_type"  "FIELD_INTEGER"
	            "damage_reduction_duration" "2"
	        }
	    }
	
	
	    "Modifiers"
	    {
	        "modifier_raigyaku"
	        {
	            "Passive"                   "1"
	            "IsHidden"                  "0"
	            "IsPurgable"                "0"
	            
	
	
	
	
	            "OnCreated"
	            {
	                "FireEffect"
	                {
	                    //TODO find a fitting sound
	                    //"Target"            "CASTER" 
	                    //"EffectName"        "Hero_Kunkaa.Tidebringer"
	                }
	            
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_righthand"
	
	                    }
	                }
	
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_lefthand"
	                    }
	                }
	            }
	
	            "OnAttackLanded"
	            {
	                "FireSound"
	                {
	                    // TODO find a fitting sound
	                    //"Target"            "TARGET"
	                    //"EffectName"        "Hero_Kunkka.Tidebringer.Attack"
	                }
	            
	
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_base_attack_impact_b.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "TARGET"
	                    "ControlPointEntities"
	                   {
	                      "TARGET"    "attach_hitloc"
	
	                    }
	                }
	            
	              
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/raikage/raigyaku_suihei.lua"
	                    "Function"      "ReleaseAoeDamage"
	                }
	                        
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/raikage/raigyaku_suihei.lua"
	                    "Function"      "SuiheiResetCooldown"
	                }
	
	                
	            }
	            
	        }
	
	        //TODO seems to no work yet, modifier is applied but damage reduction has to be retested
	        "modifier_raigyaku_debuff"
	      {
	          "Duration"        "%damage_reduction_duration"     
	          "IsDebuff"        "1"
	          "IsPurgable"      "0"
	          "Attributes"    "MODIFIER_ATTRIBUTE_NONE"
	
	
	          "OnCreated"
	          {
	            "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "TARGET"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_hitloc"
	                    }
	                }
	          }
	          "OnAttackLanded"
	          {
	            "RunScript"
	            {
	                "ScriptFile"    "heroes/raikage/raigyaku_suihei.lua"
	                "Function"        "AddSuiheiDebuff"
	            }
	          }
	
	
	      }
	
	
	    }
	
	}
	"raikage_raiton_no_yoroi"
	{
	    // General  
	    // ----------------------------------------------------------------------------------------
	    "BaseClass"                 "ability_datadriven"
	    "AbilityBehavior"           "DOTA_ABILITY_BEHAVIOR_NO_TARGET | DOTA_ABILITY_BEHAVIOR_IMMEDIATE"
	    "AbilityUnitDamageType"     "DAMAGE_TYPE_MAGICAL" 
	    "SpellImmunityType"         "SPELL_IMMUNITY_ENEMIES_NO"
	    "AbilityTextureName"        "raikage_raiton_no_yoroi" //TODO
	
	
	    "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"               "4"
	
	
	    // Casting
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCastRange"              "0"
	    "AbilityDuration"               "20.0 40.0 60.0 80.0"
	
	
	    // Time     
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityCooldown"               "20"
	    "AbilityCastPoint"              "0.0 0.0 0.0 0.0"
	
	    // Cost
	    //-------------------------------------------------------------------------------------------------------------
	    "AbilityManaCost"               "75 80 85 90"
	
	
	     "precache"
	    {
	      "particle"  "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	      "particle"  "particles/generic_gameplay/generic_purge.vpcf"
	      "particle"   "particles/econ/items/razor/razor_punctured_crest/razor_helmet_blade_ambient_a.vpcf"
	    }
	
	    "AbilitySpecial"
	    {
	        "01"
	        { 
	            "var_type"  "FIELD_INTEGER"
	            "physical_damage_reduce_percent" "10 15 20 25"
	        }
	        "02"
	        {
	            "var_type" "FIELD_FLOAT"
	            "duration" "10.0"
	        }
	        "03"
	        {
	            "var_type" "FIELD_FLOAT"
	            "charge_damage_amount" "350.0"
	        }
	        "04"
	        { 
	            "var_type"  "FIELD_INTEGER"
	            "release_aoe" "250"
	        }
	        "05"
	        {
	            "var_type" "FIELD_FLOAT"
	            "release_purge_duration" "0.25"
	        }
	        "06"
	        {
	            "var_type" "FIELD_FLOAT"
	            "release_damage" "50.0"
	        }
	        "07"
	        {
	            "var_type" "FIELD_FLOAT"
	            "release_ms_slow" "-50.0" 
	        }
	    }
	
	    "OnSpellStart"
	    {           
	
	        "RunScript"
	        {
	            "ScriptFile"    "heroes/raikage/raiton_no_yoroi.lua"
	            "Function"      "Shield"
	        }
	
	        "FireSound"
	        {
	            //TODO Lighting charge sound at start
	        }
	        
	        "ApplyModifier"
	        {
	            "ModifierName"          "modifier_raiton_no_yoroi_charge"
	            "Target"                "CASTER"
	        }
	        
	        "FireSound"
	        {
	            //TODO loop sound during charge?
	        }
	    }
	
	
	    "Modifiers"
	    {
	        "modifier_raiton_no_yoroi_charge"
	        {
	            "IsBuff"            "1"
	            "Duration"          "%duration"
	        
	            "ThinkInterval"     "0.03"
	
	            "OnIntervalThink"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/raikage/raiton_no_yoroi.lua"
	                    "Function"      "ShieldHealth"
	                }
	            }
	
	            "OnTakeDamage"
	            {
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/raikage/raiton_no_yoroi.lua"
	                    "Function"      "ShieldAbsorb"
	                    "DamageTaken"   "%attack_damage"
	                }
	            }
	
	             "OnCreated"
	            {
	               
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_righthand"
	
	                    }
	                }
	
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_lefthand"
	                    }
	                }
	
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_lefthand"
	                    }
	                }
	
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_lefthand"
	                    }
	                }
	
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_leftleg"
	                    }
	                }
	
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_rightleg"
	                    }
	                }
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_rightshoulder"
	                    }
	                }
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_leftshoulder"
	                    }
	                }
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_rightelbow"
	                    }
	                }
	
	                "AttachEffect"
	                {
	                    "EffectName" "particles/units/heroes/hero_razor/razor_ambient_g.vpcf"
	                    "EffectAttachType" "follow_origin"
	
	                    "Target" "CASTER"
	                    "ControlPointEntities"
	                   {
	                      "CASTER"    "attach_leftelbow"
	                    }
	                }
	            }
	
	
	            "OnDestroy"
	            {
	               // "AttachEffect" TODO add particle for releasing the charge
	               // {
	               //     "EffectName"        "particles/units/heroes/hero_abaddon/abaddon_aphotic_shield_explosion.vpcf"
	               //     "EffectAttachType"  "follow_origin"
	               //     "Target"            "TARGET"
	               //     "ControlPointEntities"
	               //     {
	               //         "TARGET"    "attach_origin"
	               //         "TARGET"    "attach_origin"
	               //     }
	               // }
	
	                "RunScript"
	                {
	                    "ScriptFile"    "heroes/raikage/raiton_no_yoroi.lua"
	                    "Function"      "EndShieldParticle"
	                }
	
	                "Damage"
	                {
	                    "Target"
	                    {
	                        "Center"            "TARGET"
	                        "Radius"            "%release_aoe"
	                        "Teams"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	                    }
	                    "Type"           "DAMAGE_TYPE_MAGICAL"
	                    "Damage"         "%release_damage"
	                }
	
	               "ApplyModifier"
	                {
	                  "ModifierName"        "modifer_raikage_purge"
	                  "Target"              "TARGET"
	                  "Duration"            "%release_purge_duration"
	                }
	
	                 "FireEffect"
	                {
	                    "Target"
	                    {
	                        "Center"            "TARGET"
	                        "Radius"            "%release_aoe"
	                        "Teams"             "DOTA_UNIT_TARGET_TEAM_ENEMY"
	                        "Types"             "DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
	                    }
	                    "EffectName"        "particles/generic_gameplay/generic_purge.vpcf"
	                    "EffectAttachType"  "attach_hitloc"
	                }
	             }
	        }
	
	          "modifer_raikage_purge"
	              {
	                "IsDebuff"    "1"
	                "Properties"
	                {
	                  "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%release_ms_slow"
	                }
	              }
	    }
	
	}
	"zabuza_demonic_intent_datadriven"
	{
	    // General  
	    // ----------------------------------------------------------------------------------------
	    "BaseClass"              "ability_datadriven"
	    "AbilityBehavior"        "DOTA_ABILITY_BEHAVIOR_PASSIVE"
	    //"AbilityTextureName"     "spellicon"
	
	    "AbilityType"            "DOTA_ABILITY_TYPE_BASIC"
	    "MaxLevel"               "4"
	
	    "AbilitySpecial"
	    {
	        "01"
	        { 
	            "var_type"  "FIELD_INTEGER"
	            "bonus_damage_percent" "5 10 15 20"
	        }
	    }
	
	    "Modifiers"
	    {
	        "modifier_demonic_intent_buff_datadriven"
	        {
	            "IsBuff" "1"
	            "Passive" "1"
	            "Properties"
	            {
	                "MODIFIER_PROPERTY_BASEDAMAGEOUTGOING_PERCENTAGE" "%bonus_damage_percent"
	            }
	        }
	    }
	}
	"zabuza_water_dragon_datadriven"
	{
		// General
		//-------------------------------------------------------------------------------------------------------------
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_POINT"
		"AbilityUnitDamageType"			"DAMAGE_TYPE_MAGICAL"	
		"SpellImmunityType"				"SPELL_IMMUNITY_ENEMIES_NO"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_HERO | DOTA_UNIT_TARGET_BASIC"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_CUSTOM"
		"FightRecapLevel"				"1"
		"AbilityTextureName"			"windrunner_powershot"
	
		// Casting
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCastRange"				"2600"
		"AbilityCastPoint"				"0.2"
		
		// Time
		//-------------------------------------------------------------------------------------------------------------
		"AbilityCooldown"				"9.0 9.0 9.0 9.0"
	
		// Damage.
		//-------------------------------------------------------------------------------------------------------------
		"AbilityDamage"					"120 200 280 360"
	
		// Cost
		//-------------------------------------------------------------------------------------------------------------
		"AbilityManaCost"				"10 10 10 10"
	
		// Special
		//-------------------------------------------------------------------------------------------------------------
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"damage_reduction"		"0.1 0.1 0.1 0.1"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"speed_reduction"		"0.1 0.1 0.1 0.1"
			}
			"03"
			{
				"var_type"				"FIELD_INTEGER"
				"arrow_width"			"125 125 125 125"
			}
			"04"
			{
				"var_type"				"FIELD_INTEGER"
				"arrow_range"			"2600"
			}
			"05"
			{
				"var_type"				"FIELD_FLOAT"
				"arrow_speed"			"3000.0 3000.0 3000.0 3000.0"
			}
			"06"
			{
				"var_type"				"FIELD_FLOAT"
				"tree_width"			"75 75 75 75"
			}
			"07"
			{
				"var_type"				"FIELD_INTEGER"
				"vision_radius"			"400 400 400 400"
			}
			"08"
			{
				"var_type"				"FIELD_FLOAT"
				"vision_duration"		"3.34 3.34 3.34 3.34"
			}
			// Extra variable
			"09"
			{
				"var_type"				"FIELD_FLOAT"
				"charge_interval"		"0.01"
			}
			"10"
			{
				"var_type"				"FIELD_FLOAT"
				"damage_per_interval"	"0.01"
			}
			"11"
			{
				"var_type"				"FIELD_FLOAT"
				"charge_time"			"1.0"
			}
			"12"
			{
				"var_type" "FIELD_FLOAT"
				"bonus_movement_speed" "-10 -15 -20 -25"
			}
			"13"
			{
				"var_type" "FIELD_FLOAT"
				"half_bonus_movement_speed" "-5 -7 -10 -12"
			}
			"14"
			{
				"var_type" "FIELD_FLOAT"
				"dps_interval" "1.0"
			}
			"15"
			{
				"var_type" "FIELD_FLOAT"
				"dps_damage" "10 30 50 70"
			}
			"16"
			{
				"var_type" "FIELD_FLOAT"
				"dps_duration" "3"
			}
		}
		
		// Data driven
		//-------------------------------------------------------------------------------------------------------------
		"precache"
		{
			"soundfile"					"soundevents/game_sounds_heroes/game_sounds_windrunner.vsndevts"
			"particle"					"particles/units/heroes/hero_windrunner/windrunner_spell_powershot.vpcf"
		}
		
		"OnSpellStart"
		{
			"FireSound"
			{
				"Target"				"CASTER"
				"EffectName"			"Ability.PowershotPull"
			}
	
			// Reset speed and damage variables and set timer for channel
			"RunScript"
			{
				"ScriptFile"			"heroes/zabuza/zabuza_water_dragon.lua"
				"Function"				"start_traverse"
				"Target"				"POINT"
			}
				
		}
		
		"OnProjectileHitUnit"
		{
			"DeleteOnHit"				"false"
		
			"RunScript"
			{
				"ScriptFile"			"heroes/zabuza/zabuza_water_dragon.lua"
				"Function"				"register_unit"
			}
		}
		
		"Modifiers"
		{
			"modifier_zabuza_water_dragon_slow_debuf"
			{
				"IsDebuff"			"1"
				"Duration"			"%dps_duration"
			
				//"EffectName"		"particle_name"
				//"EffectAttachType"	"follow_origin"
			
				"Properties"
				{
				    "MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%bonus_movement_speed" 
				}
	
				"ThinkInterval" 	"%dps_interval"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"			"heroes/zabuza/zabuza_water_dragon.lua"
						"Function"				"zabuza_water_dragon_damage_on_interval_think"
					}
				}
	
			}
	
			"modifier_zabuza_water_dragon_half_slow_debuf"
			{
				"IsDebuff"			"1"
				"Duration"			"3"
			
				//"EffectName"		"particle_name"
				//"EffectAttachType"	"follow_origin"
			
				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE" "%half_bonus_movement_speed" 
				}
	
				"ThinkInterval" 	"%dps_interval"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"			"heroes/zabuza/zabuza_water_dragon.lua"
						"Function"				"zabuza_water_dragon_damage_on_interval_think"
					}
				}
	
			}
	
		}
	}
}